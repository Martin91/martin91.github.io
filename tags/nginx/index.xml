<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Nginx on Hackerpie</title><link>https://blog.hackerpie.com/tags/nginx/</link><description>Recent content in Nginx on Hackerpie</description><generator>Hugo</generator><language>zh-CN</language><lastBuildDate>Fri, 09 Aug 2013 11:39:00 +0800</lastBuildDate><atom:link href="https://blog.hackerpie.com/tags/nginx/index.xml" rel="self" type="application/rss+xml"/><item><title>Failed to stop or restart Nginx server through serevice command</title><link>https://blog.hackerpie.com/posts/archive/failed-to-stop-or-restart-nginx-server-through-serevice-command/</link><pubDate>Fri, 09 Aug 2013 11:39:00 +0800</pubDate><guid>https://blog.hackerpie.com/posts/archive/failed-to-stop-or-restart-nginx-server-through-serevice-command/</guid><description>&lt;p>Many people are accustomed to start a Nginx web server through init scripts and then they can control the state of the server through &lt;code>service&lt;/code> command, such as &lt;code>sudo service nginx restart&lt;/code>. But sometimes unobvious config error makes the scripts failed to work. Here I will show an error related to &lt;code>pid&lt;/code> directive in the config file of nginx, which defaultly located at &lt;code>/opt/nginx/conf/nginx.conf&lt;/code>. &lt;!-- raw HTML omitted -->
As ignored by many people, some init scripts assump there is a pid file of nginx located at &lt;code>/var/run/nginx.pid&lt;/code>, but in the fact, the default pid file for nginx is &lt;code>/opt/nginx/logs/nginx.pid&lt;/code>. Because the scripts can&amp;rsquo;t get the correct pid or even get nothing, they failed to stop the nginx process, some tasks dependent on it will be failed too, for example, you are not able to restart the server.&lt;!-- raw HTML omitted -->&lt;/p></description></item></channel></rss>